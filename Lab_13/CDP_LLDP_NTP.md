## Лабораторная работа - Настройка протоколов CDP, LLDP и NTP

**Топология**

![alt-текст]( "Схема")

![alt-текст]()

![alt-текст]()

![alt-текст]()

![alt-текст]()

![alt-текст]()

**Таблица адресации**

| Устройство	| Интерфейс	| IP-адрес	| Маска подсети	| Шлюз по умолчанию |
| :---------: |:---------:| :--------:| :-----------: | :---------------: |
| R1	| Loopback1	| 172.16.1.1	| 255.255.255.0	| — |
| R1	| G0/0/1	| 10.22.0.1	| 255.255.255.0	| — |
| S1	| SVI | VLAN 1 	| 10.22.0.2	| 255.255.255.0	| 10.22.0.1 |
| S2	| SVI | VLAN 1	| 10.22.0.3	| 255.255.255.0	| 10.22.0.1 |

---
### Задачи
###### Часть 1. Создание сети и настройка основных параметров устройства
###### Часть 2. Обнаружение сетевых ресурсов с помощью протокола CDP
###### Часть 3. Обнаружение сетевых ресурсов с помощью протокола LLDP
###### Часть 4. Настройка NTP

---

### Часть 1. Создание сети и настройка основных параметров устройства

#### Шаг 1. Создайте сеть согласно топологии.


#### Шаг 2. Настройте базовые параметры для маршрутизатора.

a.	Назначьте маршрутизатору имя устройства.

b.	Отключите поиск DNS, чтобы предотвратить попытки маршрутизатора неверно преобразовывать введенные команды таким образом, как будто они являются именами узлов.

c.	Назначьте class в качестве зашифрованного пароля привилегированного режима EXEC.

d.	Назначьте cisco в качестве пароля консоли и включите вход в систему по паролю.

e.	Назначьте cisco в качестве пароля VTY и включите вход в систему по паролю.

f.	Зашифруйте открытые пароли.

g.	Создайте баннер с предупреждением о запрете несанкционированного доступа к устройству.

h.	Настройка интерфейсов, перечисленных в таблице выше

i.	Сохраните текущую конфигурацию в файл загрузочной конфигурации.

#### Шаг 3. Настройте базовые параметры каждого коммутатора.

a.	Присвойте коммутатору имя устройства.

b.	Отключите поиск DNS, чтобы предотвратить попытки маршрутизатора неверно преобразовывать введенные команды таким образом, как будто они являются именами узлов.

c.	Назначьте class в качестве зашифрованного пароля привилегированного режима EXEC.

d.	Назначьте cisco в качестве пароля консоли и включите вход в систему по паролю.

e.	Назначьте cisco в качестве пароля VTY и включите вход в систему по паролю.

f.	Зашифруйте открытые пароли.

g.	Создайте баннер, который предупреждает всех, кто обращается к устройству, видит баннерное сообщение «Только авторизованные пользователи!».  

h.	Отключите неиспользуемые интерфейсы

i.	Сохраните текущую конфигурацию в файл загрузочной конфигурации.


---

### Часть 2. Обнаружение сетевых ресурсов с помощью протокола CDP

a.	На R1 используйте соответствующую команду show cdp, чтобы определить, сколько интерфейсов включено CDP, сколько из них включено и сколько отключено.
 
> Вопрос:Сколько интерфейсов участвует в объявлениях CDP? Какие из них активны?
>>
 
b.	На R1 используйте соответствующую команду show cdp, чтобы определить версию IOS, используемую на S1.

> Какая версия IOS используется на  S1?
>>


c.	На S1 используйте соответствующую команду show cdp, чтобы определить, сколько пакетов CDP было выданных.

> Сколько пакетов имеет выход CDP с момента последнего сброса счетчика?
>>


d.	Настройте SVI для VLAN 1 на S1 и S2, используя IP-адреса, указанные в таблице адресации выше. Настройте шлюз по умолчанию для каждого коммутатора на основе таблицы адресов.
 
e.	На R1 выполните команду show cdp entry S1 . 

> Вопрос: Какие дополнительные сведения доступны теперь?
>>


f.	Отключить CDP глобально на всех устройствах. 


---

### Часть 3. Обнаружение сетевых ресурсов с помощью протокола LLDP

a.	Введите соответствующую команду lldp, чтобы включить LLDP на всех устройствах в топологии.

b.	На S1 выполните соответствующую команду lldp, чтобы предоставить подробную информацию о S2. 

> Что такое chassis ID  для коммутатора S2?
>>


c.	Соединитесь через консоль на всех устройствах и используйте команды LLDP, необходимые для отображения топологии физической сети только из выходных данных команды show.


---

### Часть 4. Настройка NTP

#### Шаг 1. Выведите на экран текущее время.

| Дата	| Время	| Часовой пояс	| Источник времени |
| :---: |:-----:| :------------:| :--------------: | 
| | | | |

#### Шаг 2. Установите время.

С помощью команды clock set установите время на маршрутизаторе R1. Введенное время должно быть в формате UTC. 


#### Шаг 3. Настройте главный сервер NTP.

Настройте R1 в качестве хозяина NTP с уровнем слоя 4.


#### Шаг 4. Настройте клиент NTP.

a.	Выполните соответствующую команду на S1 и S2, чтобы просмотреть настроенное время. Запишите текущее время,  в следующей таблице.

| Дата	| Время	| Часовой пояс	| Источник времени |
| :---: |:-----:| :------------:| :--------------: | 
| | | | |
		
b.	Настройте S1 и S2 в качестве клиентов NTP. Используйте соответствующие команды NTP для получения времени от интерфейса G0/0/1 R1, а также для периодического обновления календаря или аппаратных часов коммутатора.


#### Шаг 5. Проверьте настройку NTP.

a.	Используйте соответствующую команду show , чтобы убедиться, что S1 и S2 синхронизированы с R1.
Примечание. Синхронизация метки времени на маршрутизаторе R2 с меткой времени на маршрутизаторе R1 может занять несколько минут.
b.	Выполните соответствующую команду на S1 и S2, чтобы просмотреть настроенное время и сравнить ранее записанное время.


***Вопрос для повторения***
