## Домашняя работа. Доступ к сетевым устройствам по протоколу SSH

##### Топология

![alt-текст](https://github.com/fedotov1evg/OTUS_Network/blob/main/Lab_06/pic/Shema.png "Схема")

![alt-текст]( )
##### Таблица адресации

| Устройство | Интерфейс	| IP-адрес	| Маска подсети	| Шлюз по умолчанию |
| :--------: |:----------:| :--------:| :------------:|:-----------------:|
| R1	| G0/0/1	| 192.168.1.1	| 255.255.255.0	| — |
| S1	| VLAN 1	| 192.168.1.11	| 255.255.255.0	| 192.168.1.1 |
| PC-A	| NIC	192.168.1.3	| 255.255.255.0	| 192.168.1.1 |


#### Задачи
##### Часть 1. Настройка основных параметров устройства

##### Часть 2. Настройка маршрутизатора для доступа по протоколу SSH

##### Часть 3. Настройка коммутатора для доступа по протоколу SSH

##### Часть 4. SSH через интерфейс командной строки (CLI) коммутатора

#### Часть 1. Настройка основных параметров устройств

Шаг 1. Создайте сеть согласно топологии.

Шаг 2. Выполните инициализацию и перезагрузку маршрутизатора и коммутатора.

Шаг 3. Настройте маршрутизатор.

Откройте окно конфигурации
a.	Подключитесь к маршрутизатору с помощью консоли и активируйте привилегированный режим EXEC.

b.	Войдите в режим конфигурации.

c.	Отключите поиск DNS, чтобы предотвратить попытки маршрутизатора неверно преобразовывать введенные команды таким образом, как будто они являются именами узлов.

d.	Назначьте class в качестве зашифрованного пароля привилегированного режима EXEC.

e.	Назначьте cisco в качестве пароля консоли и включите вход в систему по паролю.

f.	Назначьте cisco в качестве пароля VTY и включите вход в систему по паролю.

g.	Зашифруйте открытые пароли.

h.	Создайте баннер, который предупреждает о запрете несанкционированного доступа.

i.	Настройте и активируйте на маршрутизаторе интерфейс G0/0/1, используя информацию, приведенную в таблице адресации.

j.	Сохраните текущую конфигурацию в файл загрузочной конфигурации.

![alt-текст](https://github.com/fedotov1evg/OTUS_Network/blob/main/Lab_06/pic/1-3.png )

Шаг 4. Настройте компьютер PC-A.

![alt-текст](https://github.com/fedotov1evg/OTUS_Network/blob/main/Lab_06/pic/1-4.png )

Шаг 5. Проверьте подключение к сети.

![alt-текст](https://github.com/fedotov1evg/OTUS_Network/blob/main/Lab_06/pic/1-5.png )

#### Часть 2. Настройка маршрутизатора для доступа по протоколу SSH

Шаг 1. Настройте аутентификацию устройств.

![alt-текст](https://github.com/fedotov1evg/OTUS_Network/blob/main/Lab_06/pic/2-1.png )

Шаг 2. Создайте ключ шифрования с указанием его длины.

![alt-текст](https://github.com/fedotov1evg/OTUS_Network/blob/main/Lab_06/pic/2-2.png )

Шаг 3. Создайте имя пользователя в локальной базе учетных записей.

![alt-текст](https://github.com/fedotov1evg/OTUS_Network/blob/main/Lab_06/pic/2-3.png )

Шаг 4. Активируйте протокол SSH на линиях VTY.

a.	Активируйте протоколы Telnet и SSH на входящих линиях VTY с помощью команды transport input.

b.	Измените способ входа в систему таким образом, чтобы использовалась проверка пользователей по локальной базе учетных записей.

![alt-текст](https://github.com/fedotov1evg/OTUS_Network/blob/main/Lab_06/pic/2-4-b.png )

Шаг 5. Сохраните текущую конфигурацию в файл загрузочной конфигурации.

![alt-текст](https://github.com/fedotov1evg/OTUS_Network/blob/main/Lab_06/pic/2-5.png )

Шаг 6. Установите соединение с маршрутизатором по протоколу SSH.

![alt-текст](https://github.com/fedotov1evg/OTUS_Network/blob/main/Lab_06/pic/2-6-a.png )

![alt-текст](https://github.com/fedotov1evg/OTUS_Network/blob/main/Lab_06/pic/2-6-b.png )

#### Часть 3. Настройка коммутатора для доступа по протоколу SSH
В части 3 вам предстоит настроить коммутатор для приема подключений по протоколу SSH, а затем установить SSH-подключение с помощью программы Tera Term.

Шаг 1. Настройте основные параметры коммутатора.

![alt-текст](https://github.com/fedotov1evg/OTUS_Network/blob/main/Lab_06/pic/3-1.png )

Шаг 2. Настройте коммутатор для соединения по протоколу SSH.

![alt-текст](https://github.com/fedotov1evg/OTUS_Network/blob/main/Lab_06/pic/3-2.png )

Шаг 3. Установите соединение с коммутатором по протоколу SSH.

![alt-текст](https://github.com/fedotov1evg/OTUS_Network/blob/main/Lab_06/pic/3-3-a.png )

![alt-текст](https://github.com/fedotov1evg/OTUS_Network/blob/main/Lab_06/pic/3-3-b.png )

> Вопрос:Удалось ли вам установить SSH-соединение с коммутатором?

Да, с использованием пароля Adm1nP@55

#### Часть 4. Настройка протокола SSH с использованием интерфейса командной строки (CLI) коммутатора

Шаг 1. Посмотрите доступные параметры для клиента SSH в Cisco IOS.

Откройте окно конфигурации

Используйте вопросительный знак (?), чтобы отобразить варианты параметров для команды ssh.
S1# ssh? 
  -c Select encryption algorithm
  -l Log in using this user name
  -m Select HMAC algorithm
  -o Specify options
  -p Connect to this port
  -v Specify SSH Protocol Version
  -vrf Specify vrf name
  WORD IP-адрес или имя хоста удаленной системы
  
Шаг 2. Установите с коммутатора S1 соединение с маршрутизатором R1 по протоколу SSH.

a.	Чтобы подключиться к маршрутизатору R1 по протоколу SSH, введите команду –l admin. Это позволит вам войти в систему под именем admin. При появлении приглашения введите в качестве пароля Adm1nP@55

![alt-текст](https://github.com/fedotov1evg/OTUS_Network/blob/main/Lab_06/pic/4-2-a.png )

b.	Чтобы вернуться к коммутатору S1, не закрывая сеанс SSH с маршрутизатором R1, нажмите комбинацию клавиш Ctrl+Shift+6. Отпустите клавиши Ctrl+Shift+6 и нажмите x. Отображается приглашение привилегированного режима EXEC коммутатора.

![alt-текст](https://github.com/fedotov1evg/OTUS_Network/blob/main/Lab_06/pic/4-2-b.png )

c.	Чтобы вернуться к сеансу SSH на R1, нажмите клавишу Enter в пустой строке интерфейса командной строки. Чтобы увидеть окно командной строки маршрутизатора, нажмите клавишу Enter еще раз.

![alt-текст](https://github.com/fedotov1evg/OTUS_Network/blob/main/Lab_06/pic/4-2-c.png )

d.	Чтобы завершить сеанс SSH на маршрутизаторе R1, введите в командной строке маршрутизатора команду exit.

![alt-текст](https://github.com/fedotov1evg/OTUS_Network/blob/main/Lab_06/pic/4-2-d.png )

>Вопрос: Какие версии протокола SSH поддерживаются при использовании интерфейса командной строки?

SHH версии 1 и версии 2

> Вопрос для повторения. Как предоставить доступ к сетевому устройству нескольким пользователям, у каждого из которых есть собственное имя пользователя?

Создать несколько учетных записей пользователей с помощью команды username
